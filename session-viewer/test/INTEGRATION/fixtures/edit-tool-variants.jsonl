// Source: gist 8871fc0f6a113826235b2428fbb27709 (https://custardseed.com/g/8871fc0f6a113826235b2428fbb27709)
// Demonstrates: Edit tool variants - basic edit, replace-first-occurrence, replace-all, multiline edit
{"parentUuid":null,"isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","type":"user","message":{"role":"user","content":"Please perform the following file edit operations using the Edit tool:\n\n1. Edit /private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_basic.txt, change \"hello\" to \"goodbye\"\n2. Edit /private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_replace_all.txt, change only the FIRST occurrence of \"foo\" to \"bar\" (don't use replace_all)\n3. Edit /private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_replace_all.txt, change ALL occurrences of \"bar\" to \"baz\" (use replace_all=true)\n4. Edit /private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_multiline.txt, replace the multi-line block:\n   OLD_CODE = true;\n   if (OLD_CODE) {\n     console.log(\"old implementation\");\n   }\n   with:\n   NEW_CODE = true;\n   if (NEW_CODE) {\n     console.log(\"new implementation\");\n   }\n\nDo each one separately. After each edit, briefly confirm what you changed."},"uuid":"4358d7c2-ae19-43dc-a7c2-e75eb508d3ad","timestamp":"2026-01-31T00:16:01.689Z","permissionMode":"default"}
{"parentUuid":"9cd594e0-c4b6-4100-b086-7483e0c156a1","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01CE8EEXXerXzBoqgsX7wt8n","type":"message","role":"assistant","content":[{"type":"text","text":"Now I'll perform each edit operation:\n\n**Edit 1: Change \"hello\" to \"goodbye\" in edit_basic.txt**"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":826,"cache_read_input_tokens":20250,"cache_creation":{"ephemeral_5m_input_tokens":826,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CXeVYiftZbLEWbfxRhBdW","type":"assistant","uuid":"6da795bd-e55e-43fc-8345-3d5bd2ffdb47","timestamp":"2026-01-31T00:16:05.809Z"}
{"parentUuid":"6da795bd-e55e-43fc-8345-3d5bd2ffdb47","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01CE8EEXXerXzBoqgsX7wt8n","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01PuSafKVHBjyRaTb1NENzmw","name":"Edit","input":{"replace_all":false,"file_path":"/private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_basic.txt","old_string":"It contains the word hello in the middle.","new_string":"It contains the word goodbye in the middle."}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":826,"cache_read_input_tokens":20250,"cache_creation":{"ephemeral_5m_input_tokens":826,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CXeVYiftZbLEWbfxRhBdW","type":"assistant","uuid":"c43c98f0-31fa-4023-a15d-13f7a3c16c3e","timestamp":"2026-01-31T00:16:06.333Z"}
{"parentUuid":"c43c98f0-31fa-4023-a15d-13f7a3c16c3e","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01PuSafKVHBjyRaTb1NENzmw","type":"tool_result","content":"The file /private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_basic.txt has been updated successfully."}]},"uuid":"72821a43-520e-4a79-9f1e-1ea32a378dc3","timestamp":"2026-01-31T00:16:06.350Z","toolUseResult":{"filePath":"/private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_basic.txt","oldString":"It contains the word hello in the middle.","newString":"It contains the word goodbye in the middle.","originalFile":"This is a simple test file.\nIt contains the word hello in the middle.\nThis line comes after hello.\n","structuredPatch":[{"oldStart":1,"oldLines":3,"newStart":1,"newLines":3,"lines":[" This is a simple test file.","-It contains the word hello in the middle.","+It contains the word goodbye in the middle."," This line comes after hello."]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"c43c98f0-31fa-4023-a15d-13f7a3c16c3e"}
{"parentUuid":"72821a43-520e-4a79-9f1e-1ea32a378dc3","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01Ev4UpX7WervUUFMci1W1x9","type":"message","role":"assistant","content":[{"type":"text","text":"✓ **Edit 1 complete**: Changed \"hello\" to \"goodbye\" in edit_basic.txt (line 2).\n\n**Edit 2: Change only the FIRST occurrence of \"foo\" to \"bar\" in edit_replace_all.txt**"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":295,"cache_read_input_tokens":21076,"cache_creation":{"ephemeral_5m_input_tokens":295,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CXeVYruyrHtRXvU6quS3G","type":"assistant","uuid":"a7c74134-3e65-4bf4-b143-fb29885030c9","timestamp":"2026-01-31T00:16:07.777Z"}
{"parentUuid":"a7c74134-3e65-4bf4-b143-fb29885030c9","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01Ev4UpX7WervUUFMci1W1x9","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01QGR1yuG5T6u73uwYu2eKKt","name":"Edit","input":{"replace_all":false,"file_path":"/private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_replace_all.txt","old_string":"This file has foo repeated several times.","new_string":"This file has bar repeated several times."}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":295,"cache_read_input_tokens":21076,"cache_creation":{"ephemeral_5m_input_tokens":295,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CXeVYruyrHtRXvU6quS3G","type":"assistant","uuid":"632ae29b-6ede-457a-a17a-f76fc4c1d579","timestamp":"2026-01-31T00:16:08.345Z"}
{"parentUuid":"632ae29b-6ede-457a-a17a-f76fc4c1d579","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01QGR1yuG5T6u73uwYu2eKKt","type":"tool_result","content":"The file /private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_replace_all.txt has been updated successfully."}]},"uuid":"a8b85626-963a-48d7-821f-0c374275ccc6","timestamp":"2026-01-31T00:16:08.359Z","toolUseResult":{"filePath":"/private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_replace_all.txt","oldString":"This file has foo repeated several times.","newString":"This file has bar repeated several times.","originalFile":"This file has foo repeated several times.\nThe first foo is on this line.\nAnother foo appears here.\nAnd yet another foo is found here.\nThe word foo appears a total of five times in this file.\n","structuredPatch":[{"oldStart":1,"oldLines":4,"newStart":1,"newLines":4,"lines":["-This file has foo repeated several times.","+This file has bar repeated several times."," The first foo is on this line."," Another foo appears here."," And yet another foo is found here."]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"632ae29b-6ede-457a-a17a-f76fc4c1d579"}
{"parentUuid":"a8b85626-963a-48d7-821f-0c374275ccc6","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","message":{"model":"claude-haiku-4-5-20251001","id":"msg_014rSDHe6rcfWwUqBrjfWS3V","type":"message","role":"assistant","content":[{"type":"text","text":"✓ **Edit 2 complete**: Changed only the first occurrence of \"foo\" to \"bar\" in edit_replace_all.txt (line 1).\n\n**Edit 3: Change ALL occurrences of \"bar\" to \"baz\" in edit_replace_all.txt using replace_all=true**"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":325,"cache_read_input_tokens":21371,"cache_creation":{"ephemeral_5m_input_tokens":325,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard"}},"requestId":"req_011CXeVZ1Hmb5s7yFfdSxJMu","type":"assistant","uuid":"9374424a-2090-422a-a2f3-46d7037f962c","timestamp":"2026-01-31T00:16:10.061Z"}
{"parentUuid":"9374424a-2090-422a-a2f3-46d7037f962c","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","message":{"model":"claude-haiku-4-5-20251001","id":"msg_014rSDHe6rcfWwUqBrjfWS3V","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Rf5id1DS3JfEebRDrReNzv","name":"Edit","input":{"replace_all":true,"file_path":"/private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_replace_all.txt","old_string":"bar","new_string":"baz"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":325,"cache_read_input_tokens":21371,"cache_creation":{"ephemeral_5m_input_tokens":325,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard"}},"requestId":"req_011CXeVZ1Hmb5s7yFfdSxJMu","type":"assistant","uuid":"30b154df-14dc-4d70-b1fe-b80d9506c7af","timestamp":"2026-01-31T00:16:10.495Z"}
{"parentUuid":"30b154df-14dc-4d70-b1fe-b80d9506c7af","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Rf5id1DS3JfEebRDrReNzv","type":"tool_result","content":"The file /private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_replace_all.txt has been updated. All occurrences of 'bar' were successfully replaced with 'baz'."}]},"uuid":"2163113d-1817-4549-9355-b6fb590c6ec7","timestamp":"2026-01-31T00:16:10.505Z","toolUseResult":{"filePath":"/private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_replace_all.txt","oldString":"bar","newString":"baz","originalFile":"This file has bar repeated several times.\nThe first foo is on this line.\nAnother foo appears here.\nAnd yet another foo is found here.\nThe word foo appears a total of five times in this file.\n","structuredPatch":[{"oldStart":1,"oldLines":4,"newStart":1,"newLines":4,"lines":["-This file has bar repeated several times.","+This file has baz repeated several times."," The first foo is on this line."," Another foo appears here."," And yet another foo is found here."]}],"userModified":false,"replaceAll":true},"sourceToolAssistantUUID":"30b154df-14dc-4d70-b1fe-b80d9506c7af"}
{"parentUuid":"2163113d-1817-4549-9355-b6fb590c6ec7","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01XZS1fM41mwwYn738qCQaFR","type":"message","role":"assistant","content":[{"type":"text","text":"✓ **Edit 3 complete**: Changed all occurrences of \"bar\" to \"baz\" in edit_replace_all.txt (1 occurrence replaced on line 1).\n\n**Edit 4: Replace the multi-line block in edit_multiline.txt**"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":448,"cache_read_input_tokens":21696,"cache_creation":{"ephemeral_5m_input_tokens":448,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard"}},"requestId":"req_011CXeVZAQhFU9jyQoSXZzUs","type":"assistant","uuid":"66509efd-90d4-49ac-980a-810e6d6be92c","timestamp":"2026-01-31T00:16:11.617Z"}
{"parentUuid":"66509efd-90d4-49ac-980a-810e6d6be92c","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01XZS1fM41mwwYn738qCQaFR","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01FTyfJdpLRqUsYLdLQzpzkC","name":"Edit","input":{"replace_all":false,"file_path":"/private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_multiline.txt","old_string":"  const OLD_CODE = true;\n  if (OLD_CODE) {\n    console.log(\"old implementation\");\n  }","new_string":"  const NEW_CODE = true;\n  if (NEW_CODE) {\n    console.log(\"new implementation\");\n  }"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":448,"cache_read_input_tokens":21696,"cache_creation":{"ephemeral_5m_input_tokens":448,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard"}},"requestId":"req_011CXeVZAQhFU9jyQoSXZzUs","type":"assistant","uuid":"8440d874-3fff-4e4f-a871-f1871aaec6ae","timestamp":"2026-01-31T00:16:12.498Z"}
{"parentUuid":"8440d874-3fff-4e4f-a871-f1871aaec6ae","isSidechain":false,"userType":"external","cwd":"/Users/pete/git/moredip/session-share/e2e-tests","sessionId":"1656b075-7af5-4b06-a123-1330c620f60c","version":"2.1.27","gitBranch":"feature/edit-tool-rendering","slug":"zazzy-strolling-llama","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FTyfJdpLRqUsYLdLQzpzkC","type":"tool_result","content":"The file /private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_multiline.txt has been updated successfully."}]},"uuid":"4e78ff0e-ab82-4d7f-9b9f-8ad22be4682c","timestamp":"2026-01-31T00:16:12.511Z","toolUseResult":{"filePath":"/private/var/folders/jv/1nszcffd0x74lysjsn_btj6w0000gn/T/pytest-of-pete/pytest-1/test_edit_tool_variants_chromi0/edit_multiline.txt","oldString":"  const OLD_CODE = true;\n  if (OLD_CODE) {\n    console.log(\"old implementation\");\n  }","newString":"  const NEW_CODE = true;\n  if (NEW_CODE) {\n    console.log(\"new implementation\");\n  }","originalFile":"function example() {\n  const OLD_CODE = true;\n  if (OLD_CODE) {\n    console.log(\"old implementation\");\n  }\n  return OLD_CODE;\n}\n","structuredPatch":[{"oldStart":1,"oldLines":7,"newStart":1,"newLines":7,"lines":[" function example() {","-  const OLD_CODE = true;","-  if (OLD_CODE) {","-    console.log(\"old implementation\");","+  const NEW_CODE = true;","+  if (NEW_CODE) {","+    console.log(\"new implementation\");","   }","   return OLD_CODE;"," }"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"8440d874-3fff-4e4f-a871-f1871aaec6ae"}
